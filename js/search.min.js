$(document).ready(function(){function a(a,b){const c={name:a.foods[0].food_name,serving_unit:a.foods[0].serving_unit,serving_base:a.foods[0].serving_qty,serving_quantity:b,calories:a.foods[0].nf_calories,fat:a.foods[0].nf_total_fat,salt:a.foods[0].nf_sodium,protein:a.foods[0].nf_protein,carbohydrates:a.foods[0].nf_total_carbohydrate,sugar:a.foods[0].nf_sugars};$.ajax({type:"POST",url:"api.php?type=addFood",headers:{},data:c,success:function(){"function"==typeof updateCharts&&updateCharts(),"function"==typeof getFoodData&&getFoodData(),"function"==typeof updateCurrentChart&&updateCurrentChart()}})}$("#modal-previous-btn").on("click",function(a){a.preventDefault();var b=$(".modal-quantity").text();$(".modal-quantity").text(b-1)}),$("#modal-next-btn").on("click",function(a){a.preventDefault();var b=parseInt($(".modal-quantity").text());$(".modal-quantity").text(b+1)}),$(document).on("click",function(){$(".results").hide()}),$(".search").on("click",function(a){a.stopPropagation()}),$(".search").on("focus",function(){$(".results").show()}),$(".search").on("input",function(){if(""==$(".search").val())$(".results").hide();else{$(".results").show();const a="https://trackapi.nutritionix.com/v2/search/instant?query="+$(".search").val();$.ajax({url:a,headers:{"x-app-id":"e89c61d3","x-app-key":"8619e65d6db60b9d527293b94155c557"},success:function(a){for(let b in $(".results").empty(),a.common){const c=a.common[b].food_name,d=a.common[b].serving_unit,e=a.common[b].serving_qty,f=a.common[b].photo.thumb;$(".results").append("<li class=\"list-group-item results-item\"><img class=\"result-img\" src=\""+f+"\"></img>"+c+" ("+e+" "+d+")</li>")}}})}}),$(".results").on("click",".results-item",function(){var a=$(this).text();$(".results").hide(),$(".modal-title").text(a),$("#quantity-modal").modal("show")}),$("#modal-add-btn").on("click",function(b){b.preventDefault(),$("#quantity-modal").modal("hide");const c=$(".modal-title").text(),d=$(".modal-quantity").text();$(".modal-quantity").text("1");const e=JSON.stringify({query:c});$.ajax({type:"POST",url:"https://trackapi.nutritionix.com/v2/natural/nutrients",headers:{"Content-Type":"application/json","x-app-id":"e89c61d3","x-app-key":"8619e65d6db60b9d527293b94155c557"},data:e,success:function(b){a(b,d)}})})});